<app-side-bar-admin></app-side-bar-admin>
<div class="main-container">
  <h2 class="titleCen"> Estadisticas de {{instalacionGraf.nombre}}</h2>
  <div class="contents">
    <div class="chart-container">
      <div class="chart-container-header">
        <div class="form-field">
          <mat-form-field appearance="outline" style="width: 100%;">
            <mat-label><mat-icon>event</mat-icon> Fecha:</mat-label>
            <mat-date-range-input [rangePicker]="picker">
              <input matStartDate [(ngModel)]="startDate" placeholder="Start date">
              <input matEndDate [(ngModel)]="endDate" placeholder="End date">
            </mat-date-range-input>
            <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-date-range-picker #picker></mat-date-range-picker>
          </mat-form-field>
        </div> 
          <button mat-raised-button color="primary" 
          style="background-color: #4f72be; color: rgb(255, 255, 255); margin-bottom: 20px; width: 20%; margin-left: 20px;"
          (click)="filtrarFecha()">Filtrar</button> 
      </div>
      <div class="chart-container2">
          <div class="line-chart-container">
            <div class="chart-header">
              <label>Reservaciones</label>
            </div>
            <div *ngIf="!Linechart1 " class="no-reservas-text">
              <p>Los gráficos no se han generado.</p>
            </div>
            <div class="chart-body" style="display: flex; justify-content: center; align-items: center; flex: 1;">
              <canvas id="Line1">{{Linechart1}}</canvas>
            </div>
        </div>
        <div class="pie-chart-container">
          <div class="chart-header">
            <label>Calificación De Registros:</label>
          </div> 
          <div *ngIf=" !BarChart || calificacion?.length === 0" class="no-reservas-text">
            <p>Los gráficos no se han generado.</p>
          </div>
            <div class="chart-body" style="display: flex; justify-content: center; align-items: center; flex: 1;">
                <canvas id="barChart">{{BarChart}}</canvas>
            </div>
          </div>
      </div>
    </div>
    <div class="comentarios-container">
      <div *ngIf="calificacion?.length === 0" class="no-reservas-text">
        <p> No existen comentarios.</p>
      </div>
      <div *ngFor="let comment of calificacion" class="card-container">
      <div class="comment-header">
        <mat-icon class="comment-icon">person</mat-icon>
        <span class="comment-date">{{comment.fecha}}</span>
      </div>
      <div class="comment-text">
        {{comment.comentarios}}
      </div>
    </div>
    </div>
  </div>  
</div>