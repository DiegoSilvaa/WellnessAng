<app-side-bar-admin></app-side-bar-admin>
<div class="main-container">
  <h2 class="titleCen"> Vista de Adminstrador </h2>
  <div class="contents">
    <div class="aforo-container">
      <label class="title"> Aforo del Gimansio</label>
      <app-spinner-aforo></app-spinner-aforo>
      <button mat-icon-button routerLink="/statsAdmin" routerLinkActive="active" class="custom-button">
        <mat-icon>bar_chart</mat-icon> Aforo Gym
      </button>
    </div>
    <div class="stats-container">
      <label class="title"> Estad√≠stica Centros </label>
        <div class="pie-chart-container">
            <div class="chart-body">
                <canvas id="barChart">{{BarChart}}</canvas>
            </div>
        </div>
  </div>
  </div>
  <h2 class="titleCen"> Centros Deportivos </h2>
  <ng-container *ngIf="General?.length; else noReservas">
    <div class="grid-container">
      <mat-card *ngFor="let button of General" class="example-card" [ngClass]="{'gray-card': button.esta_habilitado === false}">
        <mat-card-header>
          <mat-icon mat-card-avatar>business_center</mat-icon>
          <mat-card-title>{{ button.nombre }}</mat-card-title>
          <div class="switch-container">
            <mat-slide-toggle [checked]="button.esta_habilitado"  (change)="toggleChanged(button)"></mat-slide-toggle>
          </div>
        </mat-card-header>
        <img mat-card-image class="card-image" src="{{ button.imagen }}" alt="Imagen de Centro">
        <mat-card-content>
          <p>{{ button.ubicacion }}</p>
        </mat-card-content>
        <mat-card-actions style="justify-content: space-between;">
          <button mat-button color="primary" style="background-color: #408dff; color: rgb(255, 255, 255);"
            class="mat-elevation-z4" (click)="onReservationClick(button)">
            <mat-icon style="color: white;">remove_red_eye</mat-icon>Ver Instalaciones
          </button>
          <button mat-button color="primary" style="background-color: #408dff; color: rgb(255, 255, 255);"
            class="mat-elevation-z4" (click)="onEditCentro(button)">
            <mat-icon style="color: white;">edit</mat-icon>Editar Centro
          </button>
        </mat-card-actions>
      </mat-card>      
    </div>  
  </ng-container>
  <ng-template #noReservas>
    <div class="no-reservas-text"> No existen Centros Deportivos </div>
  </ng-template>  
</div>  
