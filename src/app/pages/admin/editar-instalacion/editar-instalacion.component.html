<app-side-bar-admin></app-side-bar-admin>

<div class="main-container">
  <h2 class="titleAd"> Crear nueva "Instalacion Deportiva" </h2>
  <div class="containers">
    <form [formGroup]="form" (ngSubmit)="submit()" class="form">
      <label class="titleDips">Informacion Instalacion:</label>
      <div class="form-field">
        <mat-form-field appearance="outline">
          <mat-label><i class="material-icons">business</i> Centro deportivo:</mat-label>
          <mat-select id="centro" name="centro" formControlName="centro" required>
            <mat-option *ngFor="let opcion of centros" [value]="opcion.id_centro_deportivo">{{ opcion.nombre }}</mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      
      <div class="name-deporte">
          <div class="form-field">
            <mat-form-field appearance="outline">
              <mat-label><i class="material-icons">person</i> {{currInst.nombre}}</mat-label>
              <input type="text" id="nombre" name="nombre" matInput formControlName="nombre" required>
            </mat-form-field>
          </div>
          <div class="form-field">
            <mat-form-field appearance="outline">
              <mat-label><i class="material-icons">sports_soccer</i> Deporte:</mat-label>
              <mat-select id="deporte" name="deporte" formControlName="deporte" required>
                <mat-option *ngFor="let opcion of deportes" [value]="opcion.id_deporte">
                  <div class="button-cont">
                    <span>{{ opcion.nombre_deporte}}</span>
                    <button mat-icon-button color="primary" (click)="editOption(opcion)">
                      <mat-icon>edit</mat-icon>
                    </button>
                    <button mat-icon-button color="warn" (click)="deleteOption(opcion)">
                      <mat-icon>delete</mat-icon>
                    </button>
                  </div>
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>
      </div>   
      <button type="button" style="margin-bottom: 15px;" class="form-submit-btn2" (click)="openModal()">
        AÃ±adir Deporte
      </button>   
      <label class="titleDips">Disponibilidad:</label>
      <div style="flex-direction: row; display: flex; width: 100%; align-items: center; justify-content: space-evenly;">
        <div class="form-field">
          <mat-form-field appearance="outline">
            <mat-label><mat-icon>access_time</mat-icon> {{currInst.hora_inicial_es}}</mat-label>
            <input matInput [min]="minWeekdaysTime" [max]="maxWeekdaysTime" placeholder="Seleccione una hora" formControlName="weekdaysStartTime" required>
          </mat-form-field>
        </div>
      
        <div class="form-field">
          <mat-form-field appearance="outline">
            <mat-label><mat-icon>access_time</mat-icon> {{currInst.hora_final_es}}</mat-label>
            <input matInput [min]="minWeekdaysTime" [max]="maxWeekdaysTime" placeholder="Seleccione una hora" formControlName="weekdaysEndTime" required>
          </mat-form-field>
        </div>
      </div>
      <div style="flex-direction: row; display: flex; width: 100%; align-items: center; justify-content: space-evenly;">
        <div class="form-field">
          <mat-form-field appearance="outline">
            <mat-label><mat-icon>access_time</mat-icon>{{currInst.hora_inicial_fds}}</mat-label>
            <input matInput [min]="minWeekendTime" [max]="maxWeekendTime" placeholder="Seleccione una hora" formControlName="weekendStartTime" required>
          </mat-form-field>
        </div>
        
        <div class="form-field">
          <mat-form-field appearance="outline">
            <mat-label><mat-icon>access_time</mat-icon> {{currInst.hora_final_fds}}</mat-label>
            <input matInput [min]="minWeekendTime" [max]="maxWeekendTime" placeholder="Seleccione una hora" formControlName="weekendEndTime" required>
          </mat-form-field>
        </div>    
      </div>
      <button type="submit" class="form-submit-btn">Habilitar</button>
    </form>

  <div class="image-selector">
    <label class="titleDips">Selecciona una Imagen:</label>
    <div [innerHtml]='msg' *ngIf="msg" style="color: red;"></div>
      <div class="imagenDisp"><img [src]="iamgen" *ngIf="iamgen" [style.width.px]="300" [style.height.px]="300"></div>
      <p>
        <input type="file" (change)="selectFile($event)">
      </p>
    </div>
  </div>
</div>
